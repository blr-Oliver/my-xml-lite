[
  ["CI doctype", "<!DoCtYpE html>", "html", null, null, false, []],
  ["immediately closed", "<!DOCTYPE>", null, null, null, true, ["missing-doctype-name"]],
  ["closed after space", "<!DOCTYPE >", null, null, null, true, ["missing-doctype-name"]],
  ["no whitespace before name", "<!DOCTYPEhtml>", "html", null, null, false, ["missing-whitespace-before-doctype-name"]],
  ["TAB before name", "<!DOCTYPE\thtml>", "html", null, null, false, []],
  ["LF before name", "<!DOCTYPE\nhtml>", "html", null, null, false, []],
  ["FF before name", "<!DOCTYPE\fhtml>", "html", null, null, false, []],
  ["multi-space before name", "<!DOCTYPE    html>", "html", null, null, false, []],
  ["NUL in name", "<!DOCTYPE h\u0000tml>", "h\uFFFDtml", null, null, false, ["unexpected-null-character"]],
  ["name only", "<!DOCTYPE html>", "html", null, null, false, []],
  ["name only CI", "<!DOCTYPE HtMl>", "html", null, null, false, []],
  ["closed after name + space", "<!DOCTYPE html >", "html", null, null, false, []],
  ["empty PUBLIC after name", "<!DOCTYPE html PUBLIC>", "html", null, null, true, ["missing-doctype-public-identifier"]],
  ["empty PUBLIC CI after name", "<!DOCTYPE html PuBlIc>", "html", null, null, true, ["missing-doctype-public-identifier"]],
  ["empty SYSTEM after name", "<!DOCTYPE html SYSTEM>", "html", null, null, true, ["missing-doctype-system-identifier"]],
  ["empty SYSTEM CI after name", "<!DOCTYPE html SyStEm>", "html", null, null, true, ["missing-doctype-system-identifier"]],
  ["malformed sequence after name", "<!DOCTYPE html foo>", "html", null, null, true, ["invalid-character-sequence-after-doctype-name"]],
  ["PUBLIC id single-quoted", "<!DOCTYPE html PUBLIC 'xXx'>", "html", "xXx", null, false, []],
  ["PUBLIC id double-quoted", "<!DOCTYPE html PUBLIC \"xXx\">", "html", "xXx", null, false, []],
  ["TAB after name", "<!DOCTYPE html\tPUBLIC 'xXx'>", "html", "xXx", null, false, []],
  ["LF after name", "<!DOCTYPE html\nPUBLIC 'xXx'>", "html", "xXx", null, false, []],
  ["FF after name", "<!DOCTYPE html\fPUBLIC 'xXx'>", "html", "xXx", null, false, []],
  ["multi-space after name", "<!DOCTYPE html    PUBLIC 'xXx'>", "html", "xXx", null, false, []],
  ["TAB before public id", "<!DOCTYPE html PUBLIC\t'xXx'>", "html", "xXx", null, false, []],
  ["LF before public id", "<!DOCTYPE html PUBLIC\n'xXx'>", "html", "xXx", null, false, []],
  ["FF before public id", "<!DOCTYPE html PUBLIC\f'xXx'>", "html", "xXx", null, false, []],
  ["multi-space before public id", "<!DOCTYPE html PUBLIC    'xXx'>", "html", "xXx", null, false, []],
  ["PUBLIC id single-quoted double-quote", "<!DOCTYPE html PUBLIC 'xX\"x'>", "html", "xX\"x", null, false, []],
  ["PUBLIC id double-quoted single-quote", "<!DOCTYPE html PUBLIC \"xX'x\">", "html", "xX'x", null, false, []],
  ["PUBLIC id quoted with accent", "<!DOCTYPE html PUBLIC `xXx`>", "html", null, null, true, ["missing-quote-before-doctype-public-identifier"]],
  ["PUBLIC id unquoted", "<!DOCTYPE html PUBLIC xXx>", "html", null, null, true, ["missing-quote-before-doctype-public-identifier"]],
  ["NUL in public id", "<!DOCTYPE html PUBLIC 'xX\u0000x'>", "html", "xX\uFFFDx", null, false, ["unexpected-null-character"]],
  ["space in public id", "<!DOCTYPE html PUBLIC 'xX x'>", "html", "xX x", null, false, []],
  ["unclosed public id", "<!DOCTYPE html PUBLIC 'xXx >", "html", "xXx ", null, true, ["abrupt-doctype-public-identifier"]],
  ["space after public id", "<!DOCTYPE html PUBLIC 'xXx' >", "html", "xXx", null, false, []],
  ["TAB after public id", "<!DOCTYPE html PUBLIC 'xXx'\t>", "html", "xXx", null, false, []],
  ["LF after public id", "<!DOCTYPE html PUBLIC 'xXx'\n>", "html", "xXx", null, false, []],
  ["FF after public id", "<!DOCTYPE html PUBLIC 'xXx'\f>", "html", "xXx", null, false, []],
  ["multi-space after public id", "<!DOCTYPE html PUBLIC 'xXx'    >", "html", "xXx", null, false, []],
  ["SYSTEM id single-quoted", "<!DOCTYPE html SYSTEM 'xXx'>", "html", null, "xXx", false, []],
  ["SYSTEM id double-quoted", "<!DOCTYPE html SYSTEM \"xXx\">", "html", null, "xXx", false, []],
  ["TAB before system id", "<!DOCTYPE html SYSTEM\t'xXx'>", "html", null, "xXx", false, []],
  ["LF before system id", "<!DOCTYPE html SYSTEM\n'xXx'>", "html", null, "xXx", false, []],
  ["FF before system id", "<!DOCTYPE html SYSTEM\f'xXx'>", "html", null, "xXx", false, []],
  ["multi-space before system id", "<!DOCTYPE html SYSTEM    'xXx'>", "html", null, "xXx", false, []],
  ["SYSTEM id single-quoted double-quote", "<!DOCTYPE html SYSTEM 'xX\"x'>", "html", null, "xX\"x", false, []],
  ["SYSTEM id double-quoted single-quote", "<!DOCTYPE html SYSTEM \"xX'x\">", "html", null, "xX'x", false, []],
  ["SYSTEM id quoted with accent", "<!DOCTYPE html SYSTEM `xXx`>", "html", null, null, true, ["missing-quote-before-doctype-system-identifier"]],
  ["SYSTEM id unquoted", "<!DOCTYPE html SYSTEM xXx>", "html", null, null, true, ["missing-quote-before-doctype-system-identifier"]],
  ["NUL in system id", "<!DOCTYPE html SYSTEM 'xX\u0000x'>", "html", null, "xX\uFFFDx", false, ["unexpected-null-character"]],
  ["space in system id", "<!DOCTYPE html SYSTEM 'xX x'>", "html", null, "xX x", false, []],
  ["unclosed system id", "<!DOCTYPE html SYSTEM 'xXx >", "html", null, "xXx ", true, ["abrupt-doctype-system-identifier"]],
  ["space after system id", "<!DOCTYPE html SYSTEM 'xXx' >", "html", null, "xXx", false, []],
  ["TAB after system id", "<!DOCTYPE html SYSTEM 'xXx'\t>", "html", null, "xXx", false, []],
  ["LF after system id", "<!DOCTYPE html SYSTEM 'xXx'\n>", "html", null, "xXx", false, []],
  ["FF after system id", "<!DOCTYPE html SYSTEM 'xXx'\f>", "html", null, "xXx", false, []],
  ["multi-space after system id", "<!DOCTYPE html SYSTEM 'xXx'    >", "html", null, "xXx", false, []],
  ["extra content after SYSTEM id", "<!DOCTYPE html SYSTEM 'xXx' 'yYy'>", "html", null, "xXx", false, ["unexpected-character-after-doctype-system-identifier"]],
  ["extra SYSTEM keyword", "<!DOCTYPE html PUBLIC 'xXx' SYSTEM 'yYy'>", "html", "xXx", null, true, ["missing-quote-before-doctype-system-identifier"]],
  ["PUBLIC id + SYSTEM id", "<!DOCTYPE html PUBLIC 'xXx' 'yYy'>", "html", "xXx", "yYy", false, []],
  ["TAB between ids", "<!DOCTYPE html PUBLIC 'xXx'\t'yYy'>", "html", "xXx", "yYy", false, []],
  ["LF between ids", "<!DOCTYPE html PUBLIC 'xXx'\n'yYy'>", "html", "xXx", "yYy", false, []],
  ["FF between ids", "<!DOCTYPE html PUBLIC 'xXx'\f'yYy'>", "html", "xXx", "yYy", false, []],
  ["multi-space between ids", "<!DOCTYPE html PUBLIC 'xXx'    'yYy'>", "html", "xXx", "yYy", false, []],
  ["NUL after fail", "<!DOCTYPE html PUBLIC 'xXx' SYSTEM \u0000>", "html", "xXx", null, true, ["missing-quote-before-doctype-system-identifier", "unexpected-null-character"]],
  ["NUL is the fail", "<!DOCTYPE html PUBLIC 'xXx' \u0000>", "html", "xXx", null, true, ["missing-quote-before-doctype-system-identifier", "unexpected-null-character"]],
  ["EOF immediately", "<!DOCTYPE", null, null, null, true, ["eof-in-doctype"]],
  ["EOF before name", "<!DOCTYPE ", null, null, null, true, ["eof-in-doctype"]],
  ["EOF in name", "<!DOCTYPE htm", "htm", null, null, true, ["eof-in-doctype"]],
  ["EOF after name", "<!DOCTYPE html ", "html", null, null, true, ["eof-in-doctype"]],
  ["EOF in keyword", "<!DOCTYPE html PUB", "html", null, null, true, ["invalid-character-sequence-after-doctype-name"]],
  ["EOF after PUBLIC", "<!DOCTYPE html PUBLIC", "html", null, null, true, ["eof-in-doctype"]],
  ["EOF after SYSTEM", "<!DOCTYPE html SYSTEM", "html", null, null, true, ["eof-in-doctype"]],
  ["EOF in public id", "<!DOCTYPE html PUBLIC 'xX", "html", "xX", null, true, ["eof-in-doctype"]],
  ["EOF in system id", "<!DOCTYPE html SYSTEM 'xX", "html", null, "xX", true, ["eof-in-doctype"]],
  ["EOF after public id", "<!DOCTYPE html PUBLIC 'xXx'", "html", "xXx", null, true, ["eof-in-doctype"]],
  ["EOF after public id + space", "<!DOCTYPE html PUBLIC 'xXx' ", "html", "xXx", null, true, ["eof-in-doctype"]],
  ["EOF after system id", "<!DOCTYPE html SYSTEM 'xXx'", "html", null, "xXx", true, ["eof-in-doctype"]],
  ["EOF after system id + space", "<!DOCTYPE html SYSTEM 'xXx'", "html", null, "xXx", true, ["eof-in-doctype"]],
  ["EOF in second system id", "<!DOCTYPE html PUBLIC 'xXx' 'yY", "html", "xXx", "yY", true, ["eof-in-doctype"]],
  ["EOF after second system id", "<!DOCTYPE html PUBLIC 'xXx' 'yYy'", "html", "xXx", "yYy", true, ["eof-in-doctype"]],
  ["EOF after second system id + space", "<!DOCTYPE html PUBLIC 'xXx' 'yYy' ", "html", "xXx", "yYy", true, ["eof-in-doctype"]],
  ["EOF after OK + extra content", "<!DOCTYPE html PUBLIC 'xXx' 'yYy' z", "html", "xXx", "yYy", false, ["unexpected-character-after-doctype-system-identifier"]]
]